<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Registro de Residentes :: SIGER</title>
        <link rel="stylesheet" href="styles/global.css" />
        <link rel="stylesheet" href="styles/forms.css">
        <style>
            .form-input {
                display: flex;
                padding: 1em;
                align-items: center;
            }

            .form-input > * {
                flex: 3;
            }

            .form-input > label {
                flex: 1;
            }

            .button-container {
                display: flex;
                justify-content: center;
                margin-top: 2em;
            }
            
        </style>
    </head>
    <body>
        <header class="header-extension">
            <div class="bar">
                <h1>SIGER</h1>
                <h2>Registro de estudiantes como Residentes</h2>
            </div>
        </header>

        <div class="content">
            <form>
                <h3>Configuración de cuenta</h3>
                <p>
                    Información requerida para la identificación del residente
                </p>
                <div class="form-input">
                    <label for="emailView">Correo electrónico</label>
                    <input
                        type="text"
                        placeholder="L16430123@itpiedrasnegras.tecnm.mx"
                        name="emailView"
                        id="emailView"
                        pattern="L[0-9]{8}@itpiedrasnegras.tecnm.mx"
                        required="required"
                    />
                </div>
                <div class="form-input">
                    <label for="passView">Contraseña</label>
                    <input
                        type="password"
                        placeholder="Mínimo 8 caracteres"
                        name="passView"
                        id="passView"
                        required="required"
                        pattern=".{8,}"
                    />
                </div>
                <div class="form-input">
                    <label for="repeatPassView">Vuelva a introducir su contraseña</label>
                    <input
                        type="password"
                        placeholder="Repita la contraseña anterior"
                        name="repeatPassView"
                        required="required"
                        id="repeatPassView"
                        pattern=".{8,}"
                    />
                </div>
                <hr />
                <h3>Configuración del perfil</h3>
                <p>Información del residente</p>
                <div class="form-input">
                    <label for="nameView">Nombre(s)</label>
                    <input type="text" name="nameView" id="nameView" required="required"/>
                </div>
                <div class="form-input">
                    <label for="patSurnameView">Apellido Paterno</label>
                    <input
                        type="text"
                        name="patSurnameView"
                        id="patSurnameView"
                        required="required"
                    />
                </div>
                <div class="form-input">
                    <label for="matSurnameView">Apellido Materno</label>
                    <input
                        type="text"
                        name="matSurnameView"
                        id="matSurnameView"
                    />
                </div>
                <div class="form-input">
                    <label for="careerView">Carrera</label>
                    <select name="careerView" id="careerView" required="required">
                        <option value="">Escoja una carrera</option>
                    </select>
                </div>
                <script>
                    const careerView = document.getElementById('careerView');

                    const optionView = (key, name) => `<option value="${key}">${name}</option>`;

                    const getCareers = () => {
                        let xhr = new XMLHttpRequest();
                        xhr.open('get', `http://localhost:8080/listaSimpleDeCarreras`, true);
                        xhr.onload = () => {
                            let response = JSON.parse(xhr.responseText);
                            
                            console.log(response);
                            for (let i = 0; i < response.length; ++i) {
                                let c = response[i];
                                careerView.innerHTML += optionView(c['clave'], c['nombre_carrera']);
                            }
                        }
                        xhr.send();
                    }

                    getCareers();
                </script>
                <div class="form-input">
                    <label for="cellNumberView">Número de teléfono celular</label>
                    <input type="tel" pattern="[0-9]{10}|([0-9]{3}-[0-9]{4}-[0-9]{3})" required="required" name="cellNumberView" id="cellNumberView">
                </div>
                <div class="form-input">
                    <label for="phoneNumberView">Número de teléfono fijo</label>
                    <input type="tel" pattern="[0-9]{10}|([0-9]{3}-[0-9]{4}-[0-9]{3})" required="required" name="phoneNumberView" id="phoneNumberView">
                </div>
                <div class="button-container">
                    <input class="primary-button" type="submit" value="TERMINAR" />
                </div>
            </form>
        </div>

        <footer>
            <div class="sections-container">
                <section>
                    <h2>Integrantes</h2>
                    <div class="section-item">
                        <p>Daniel Hernández Sánchez</p>
                        <p><u>L17430048@piedrasnegras.tecnm.mx</u></p>
                    </div>
                    <div class="section-item">
                        <p>Roberto Carlos Díaz Sánchez</p>
                        <p><u>L17430057@piedrasnegras.tecnm.mx</u></p>
                    </div>
                </section>
                <section>
                    <h2>Materias</h2>
                    <div class="section-item">
                        <p>Administración de Bases de Datos</p>
                        <p>SCB-1001</p>
                    </div>
                    <div class="section-item">
                        <p>Ingeniería de Software</p>
                        <p>SCD-1011</p>
                    </div>
                    <div class="section-item">
                        <p>Programación Web</p>
                        <p>AEB-1055</p>
                    </div>
                </section>
                <section>
                    <h2>Enlaces de interés</h2>
                    <div class="section-item">
                        <p>
                            <a href="https://github.com/RobertoCDiaz/SIGER"
                                >Repositorio en GitHub</a
                            >
                        </p>
                        <p>
                            <a
                                href="https://piedrasnegrastecnm-my.sharepoint.com/personal/l17430048_piedrasnegras_tecnm_mx/_layouts/15/onedrive.aspx?id=%2Fpersonal%2Fl17430048%5Fpiedrasnegras%5Ftecnm%5Fmx%2FDocuments%2FSIGER&ct=1584840570611&or=OWA-NT&cid=e859c527-8ba0-dede-716d-3772606a50e4&originalPath=aHR0cHM6Ly9waWVkcmFzbmVncmFzdGVjbm0tbXkuc2hhcmVwb2ludC5jb20vOmY6L2cvcGVyc29uYWwvbDE3NDMwMDQ4X3BpZWRyYXNuZWdyYXNfdGVjbm1fbXgvRXVYOUhKWktkM3BEbWZaZ1o0bkMxVmtCejlvODY1TVpqWFdJU3BYd0liNWZlQT9ydGltZT1mc3F4ZUFETzEwZw"
                                >Documentación y evidencias</a
                            >
                        </p>
                    </div>
                </section>
            </div>
            <p>Instituto Tecnológico de Piedras Negras</p>
            <p>Ingeniería en Sistemas Computacionales</p>
        </footer>
    </body>
</html>
